{"version":3,"sources":["webpack:///plugins/widgets.js","webpack:///webpack/bootstrap 7b19f38a437100774b0e","webpack:///./src/plugins/Widgets.js","webpack:///./src/plugins/control/Coordinates.js","webpack:///./src/plugins/control/HawkeyeMap.js"],"names":["define","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","178","__webpack_exports__","value","coordinates","hawkeyeMap","__WEBPACK_IMPORTED_MODULE_0__control_Coordinates__","__WEBPACK_IMPORTED_MODULE_1__control_HawkeyeMap__","dmap","options","_coordinates","addTo","map","_hawkeymap","179","_L","L","Control","extend","position","onAdd","container","T","create","showing","latlng","innerText","lng","toFixed","lat","getCenter","on","e","180","TileLayer","Map","_T","$assign","assign","_this","this","div","setStyle","width","height","border","borderRadius","defer","createHawkeyeMap","node","_map","attributionControl","zoomControl","scrollWheelZoom","touchZoom","disable","doubleClickZoom","syncView","setView","getZoom","eachLayer","layer","removeLayer","_url","whenReady","panTo","animate"],"mappings":"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","file":"plugins/widgets.js","sourcesContent":["/*! version:1.4.13 */\ndefine(function() { return /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"./dist/dmap/leaflet/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 178);\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ 178:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"coordinates\", function() { return coordinates; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"hawkeyeMap\", function() { return hawkeyeMap; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__control_Coordinates__ = __webpack_require__(179);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__control_HawkeyeMap__ = __webpack_require__(180);\n/**\r\n * 内置地图控件集\r\n */\n\n\n//\nvar coordinates = function coordinates(dmap, options) {\n  return dmap._coordinates = new __WEBPACK_IMPORTED_MODULE_0__control_Coordinates__[\"a\" /* default */](options).addTo(dmap.map);\n};\nvar hawkeyeMap = function hawkeyeMap(dmap, options) {\n  return dmap._hawkeymap = new __WEBPACK_IMPORTED_MODULE_1__control_HawkeyeMap__[\"a\" /* default */](options).addTo(dmap.map);\n};\n\n/***/ }),\n\n/***/ 179:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _L = L,\n    Control = _L.Control;\n/**\r\n * 坐标控件\r\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Control.extend({\n  options: {\n    position: 'bottomleft'\n  },\n  onAdd: function onAdd(map) {\n    var container = T.create('span');\n    var showing = function showing(latlng) {\n      container.innerText = \"坐标：\" + latlng.lng.toFixed(4) + \", \" + latlng.lat.toFixed(4);\n    };\n    showing(map.getCenter());\n    map.on('mousemove', function (e) {\n      showing(e.latlng);\n    });\n    return container;\n  }\n}));\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * 内置地图控件集\r\n */\nvar _L = L,\n    Control = _L.Control,\n    TileLayer = _L.TileLayer,\n    Map = _L.Map;\nvar _T = T,\n    $assign = _T.assign;\n/**\r\n * 鹰眼图控件\r\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Control.extend({\n  options: {\n    position: 'topright'\n  },\n  onAdd: function onAdd(map) {\n    var _this = this;\n\n    var container = T.div();\n    T(container).setStyle({\n      position: 'relative',\n      width: '200px',\n      height: '200px',\n      border: '2px solid #3D6DCC',\n      borderRadius: '100px'\n    });\n    T.defer(function () {\n      _this.createHawkeyeMap(container);\n    });\n    return container;\n  },\n\n\n  /**\r\n  * 创建鹰眼图\r\n  */\n  createHawkeyeMap: function createHawkeyeMap(node, options) {\n    var map = this._map;\n\n    var hawkeyeMap = new Map(node, $assign({}, map.options, {\n      attributionControl: false,\n      zoomControl: false,\n      scrollWheelZoom: false\n    }));\n    // hawkeyeMap.dragging.disable();\n    hawkeyeMap.touchZoom.disable();\n    hawkeyeMap.doubleClickZoom.disable();\n    hawkeyeMap.scrollWheelZoom.disable();\n    //\n    var syncView = function syncView(e) {\n      hawkeyeMap.setView(map.getCenter(), map.getZoom() - 2);\n    },\n        syncLayer = function syncLayer(e) {\n      e && hawkeyeMap.eachLayer(function (layer) {\n        hawkeyeMap.removeLayer(layer);\n      });\n      map.eachLayer(function (layer) {\n        if (layer instanceof TileLayer) {\n          new TileLayer(layer._url, $assign({}, layer.options)).addTo(hawkeyeMap);\n        }\n      });\n    };\n    syncLayer();\n    map.whenReady(syncView);\n    map.on('move', syncView);\n    hawkeyeMap.on('dragend', function () {\n      map.panTo(hawkeyeMap.getCenter(), { animate: false });\n    });\n    // todo 修改\n    // T.vm.map.on('provider-change', syncLayer)//\n    //\n    return hawkeyeMap;\n  }\n}));\n\n/***/ })\n\n/******/ })});;\n\n\n// WEBPACK FOOTER //\n// plugins/widgets.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"./dist/dmap/leaflet/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 178);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b19f38a437100774b0e","/**\r\n * 内置地图控件集\r\n */\r\nimport Coordinates from \"./control/Coordinates\";\r\nimport HawkeyeMap from \"./control/HawkeyeMap\";\r\n//\r\nexport var coordinates = (dmap, options) => dmap._coordinates = new Coordinates(options).addTo(dmap.map);\r\nexport var hawkeyeMap = (dmap, options) => dmap._hawkeymap = new HawkeyeMap(options).addTo(dmap.map);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/Widgets.js","let { Control } = L;\r\n/**\r\n * 坐标控件\r\n */\r\nexport default Control.extend({\r\n  options: {\r\n    position: 'bottomleft'\r\n  },\r\n  onAdd(map) {\r\n    let container = T.create('span');\r\n    let showing = latlng => {\r\n      container.innerText = \"坐标：\" + latlng.lng.toFixed(4) + \", \" + latlng.lat.toFixed(4);\r\n    }\r\n    showing(map.getCenter())\r\n    map.on('mousemove', e => {\r\n      showing(e.latlng);\r\n    })\r\n    return container;\r\n  }\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/control/Coordinates.js","/**\r\n * 内置地图控件集\r\n */\r\nlet { Control, TileLayer, Map } = L;\r\nlet { assign: $assign } = T;\r\n/**\r\n * 鹰眼图控件\r\n */\r\nexport default Control.extend({\r\n  options: {\r\n    position: 'topright',\r\n  },\r\n  onAdd(map) {\r\n    let container = T.div();\r\n    T(container).setStyle({\r\n      position: 'relative',\r\n      width: '200px',\r\n      height: '200px',\r\n      border: '2px solid #3D6DCC',\r\n      borderRadius: '100px'\r\n    })\r\n    T.defer(() => {\r\n      this.createHawkeyeMap(container);\r\n    })\r\n    return container;\r\n  },\r\n\r\n  /**\r\n  * 创建鹰眼图\r\n  */\r\n  createHawkeyeMap(node, options) {\r\n    let { _map: map } = this;\r\n    let hawkeyeMap = new Map(node, $assign({}, map.options, {\r\n      attributionControl: false,\r\n      zoomControl: false,\r\n      scrollWheelZoom: false,\r\n    }));\r\n    // hawkeyeMap.dragging.disable();\r\n    hawkeyeMap.touchZoom.disable();\r\n    hawkeyeMap.doubleClickZoom.disable();\r\n    hawkeyeMap.scrollWheelZoom.disable();\r\n    //\r\n    let syncView = (e) => {\r\n      hawkeyeMap.setView(map.getCenter(), map.getZoom() - 2);\r\n    },\r\n      syncLayer = (e) => {\r\n        e && hawkeyeMap.eachLayer(layer => {\r\n          hawkeyeMap.removeLayer(layer);\r\n        })\r\n        map.eachLayer(layer => {\r\n          if (layer instanceof TileLayer) {\r\n            new TileLayer((layer)._url, $assign({}, layer.options)).addTo(hawkeyeMap);\r\n          }\r\n        })\r\n      }\r\n    syncLayer();\r\n    map.whenReady(syncView);\r\n    map.on('move', syncView);\r\n    hawkeyeMap.on('dragend', () => {\r\n      map.panTo(hawkeyeMap.getCenter(), { animate: false });\r\n    })\r\n    // todo 修改\r\n    // T.vm.map.on('provider-change', syncLayer)//\r\n    //\r\n    return hawkeyeMap;\r\n  }\r\n});\n\n\n// WEBPACK FOOTER //\n// ./src/plugins/control/HawkeyeMap.js"],"sourceRoot":""}